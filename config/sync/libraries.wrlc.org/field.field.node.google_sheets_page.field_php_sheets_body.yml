uuid: cd7f9418-285f-451a-9b84-56a8fa5f586b
langcode: en
status: true
dependencies:
  config:
    - field.storage.node.field_php_sheets_body
    - node.type.google_sheets_page
  module:
    - text
id: node.google_sheets_page.field_php_sheets_body
field_name: field_php_sheets_body
entity_type: node
bundle: google_sheets_page
label: 'PHP Sheets Body'
description: ''
required: false
translatable: false
default_value:
  -
    summary: ''
    value: "<?php\r\nerror_reporting(E_ALL);\r\nini_set('display_errors', 1);\r\n// *******************************************// *******************************************\r\n////// BEFORE YOU BEGIN: \r\n// **IN YOUR GOOGLE SHEETS DOCUMENT, YOUR FIRST ROW WILL BE THE VARIABLE NAMES USED TO WRITE YOUR CODE. MAKE THEM AS SIMPLE AS POSSIBLE AND EXCLUDE SPACES\r\n//** NEXT, GO TO FILE > PUBLISH TO WEB > START PUBLISHING\r\n//** IN YOUR BROWSER, COPY THE GOOGLE SHEET KEY ID FOUND IN THE URL.  FOR EXAMPLE: https://docs.google.com/spreadsheets/d/11LV9_7C13YQIilsn1CdRff04nxJiW_E9X80-g075Zbc/edit#gid=0.  THE KEY ID IS: 11LV9_7C13YQIilsn1CdRff04nxJiW_E9X80-g075Zbc //////\r\n// *******************************************// *******************************************\r\n\r\n// *******************************************// *******************************************\r\n////// Time to parse the spreadsheet. Enter the Google Sheet Key ID found in the URL in the variable below: \r\n//  EXAMPLE: $feedurl = '11LV9_7C13YQIilsn1CdRff04nxJiW_E9X80-g075Zbc'; //////\r\n\r\n     $feedurl = '1f0BYWoCgLjMz_FxgWrI5B-UIzYs0exz2whid7WrLZiM';\r\n\r\n// *******************************************// *******************************************\r\n\r\n// *******************************************// *******************************************\r\n// ***************** If the Google Sheet key is missing, an error message appears.  If ok, it proceeds.  Do not edit this section *********************\r\nif ($feedurl == '') {\r\n    echo '<h2>Oops! Enter the ID Key for your Google Sheets file</h2>';\r\n}  else {\r\n$url = 'https://spreadsheets.google.com/feeds/list/'.$feedurl.'/1/public/values?alt=json';\r\n// *******************************************// *******************************************\r\n\r\n\r\n\r\n// *******************************************// *******************************************\r\n////// *********************Decode the JSON and locate the array.  Do not edit this section *********************\r\n// *******************************************\r\n    $file = file_get_contents($url);\r\n    $json = json_decode($file);\r\n    $rows = $json->{'feed'}->{'entry'};\r\n// *******************************************\r\n////// Make it an associative Array\r\n// *******************************************\r\n    $json_a = json_decode($file, true);\r\n    $rows2 = $json_a['feed']['entry'][1];\r\n// *******************************************// *******************************************\r\n// *******************************************// *******************************************\r\n\r\n\r\n\r\n// *******************************************// *******************************************\r\n    // ********* Show variables from Key in Associative Array with loop.  Delete this section once you are done testing.   *********\r\n    // *******************************************\r\n echo 'JSON Feed: <a href=\"'.$url.'\">'.$url.'</a><br /><br />';\r\n    echo '<div style=\"border-radius:5px; max-width:500px; background-color:#eeeeee; padding:20px; margin:20px 0;\"><h2>Your Variables are:</h2>';\r\n    foreach ($rows2 as $key => $val) {\r\n\r\n    // remove crap from string\r\n        $a = explode('[\"\"]', $key);\r\n    // Get the gsx$ variables\r\n        if (strpos($a[0], 'gsx$') !== false) {\r\n            // Remove $gsx and create variable name\r\n        $variable = str_replace(\"gsx$\", \"\", $a[0]);\r\n    // Define variables\r\n        echo '$'.$variable.'<br />';\r\n        }\r\n    }\r\necho '</div>';\r\n// ********* End Show variables from Key in Associative Array with loop.  Stop here when Deleting this section once you are done testing.   *********\r\n\r\n\r\n// *******************************************// *******************************************\r\n// *********************Begin Loop through array(s).  Do not edit.*********************\r\n// *******************************************\r\n    foreach ($rows as $row) {\r\n        // *******************************************\r\n    // ********* Create variables from Key in Associative Array with loop *********\r\n    // *******************************************\r\n        foreach ($rows2 as $key => $val) {\r\n// remove crap from string\r\n        $a = explode('[\"\"]', $key);\r\n// Get the gsx$ variables\r\n        if (strpos($a[0], 'gsx$') !== false) {\r\n// Removes $gsx and creates variable name\r\n        $variable = str_replace(\"gsx$\", \"\", $a[0]);\r\n// Define variables\r\n        $$variable = $row->{'gsx$'.$variable}->{'$t'};\r\n        }\r\n        }\r\n// **************************************************************************************************************************************************\r\n\r\n\r\n\r\n// **************************************************************************************************************************************************\r\n// ********* Use your Google Sheet first row names for variables. This example uses '$wrlc' to mirror a 1st row cell named 'wrlc'.  All cells below it in the column will be displayed as a loop. \r\n// You can Sort by using if statements.  \r\n// echo 'Good morning.  This is my variable: '.$wrlc.'<br />';\r\n// **************************************************************************************************************************************************\r\n\r\n\r\n\r\n// **************************************************************************************************************************************************\r\n////// *************** This is your viewable content.  You can mix HTML and PHP here. ***************\r\n// **************************************************************************************************************************************************\r\n     if (isset($name) and $name !='') {\r\n         echo '<h2>'.$name.'</h2><br />';\r\n         }\r\n////// end loop. Do not delete bracket ///////\r\n     }\r\n// *********************************************************************************************************************\r\n// ********* End viewable content **************************************************************************************\r\n// *********************************************************************************************************************\r\n\r\n\r\n// *********************************************************************************************************************\r\n// End bracket for hiding content if errors.  Do not delete.\r\n     }\r\n// *********************************************************************************************************************\r\n?>\r\n"
    format: php_code
default_value_callback: ''
settings:
  display_summary: false
  required_summary: false
field_type: text_with_summary
